# Instagram Feed Setup Guide

**Last Updated**: January 2025

## Overview

The Instagram feed displays posts in a carousel on the homepage. The system supports:
- **Instagram Graph API** (requires access token)
- **Local image fallback** (uses images from `assets/images/instagram/` if API unavailable)
- **Automatic image detection** by post ID

## Quick Setup

### Option 1: Local Images (Recommended for GitHub Pages)

1. **Add post URLs** to `config/app.config.js`:
```javascript
instagram: {
  enabled: true,
  postUrls: [
    'https://www.instagram.com/p/DCRi-2SoxNX/',
    'https://www.instagram.com/reel/C32hCk5SoVd/',
    // Add more URLs...
  ],
  maxPosts: 0, // 0 = display all
}
```

2. **Download images** and place them in `assets/images/instagram/`:
   - Filename format: `instagram-{POST_ID}.jpg`
   - Example: `instagram-DCRi-2SoxNX.jpg`
   - Extract POST_ID from URL (e.g., `DCRi-2SoxNX` from `https://www.instagram.com/p/DCRi-2SoxNX/`)

3. **Run fetch script** (will use local images automatically):
```bash
npm run fetch-instagram
```

The script automatically detects and uses existing images in `assets/images/instagram/` if available.

### Option 2: Instagram Graph API

1. **Create Facebook App** at https://developers.facebook.com/
2. **Add Instagram Basic Display** product
3. **Get access token**
4. **Set environment variable**:
```env
INSTAGRAM_ACCESS_TOKEN=your-token-here
```

5. **Run fetch script**:
```bash
npm run fetch-instagram
```

## Troubleshooting

### Images Not Loading

**Problem**: Placeholder images or empty feed

**Solutions**:
1. **Check local images**: Ensure images exist in `assets/images/instagram/` with correct naming (`instagram-{POST_ID}.jpg`)
2. **API token**: If using API, verify `INSTAGRAM_ACCESS_TOKEN` is set correctly
3. **Fallback**: Script automatically falls back to local images if API fails

### API Errors

If you see "Invalid OAuth access token" errors:
- This is expected if no token is set
- The script will use local images automatically
- No action needed if images are in `assets/images/instagram/`

## How It Works

1. **Script checks** for existing images in `assets/images/instagram/` first
2. **If found**: Uses them directly (no API calls)
3. **If not found**: Attempts to fetch via oEmbed API
4. **Downloads images** if fetch succeeds
5. **Saves to** `data/instagram-posts.json` for use in site

## File Structure

```
assets/images/instagram/
  ├── instagram-DCRi-2SoxNX.jpg
  ├── instagram-C32hCk5SoVd.jpg
  └── ...

data/
  └── instagram-posts.json  # Generated by fetch script
```

## GitHub Actions

For GitHub Pages deployment, the script runs automatically:
- Uses GitHub Secrets if `INSTAGRAM_ACCESS_TOKEN` is set
- Falls back to local images if API unavailable
- See `docs/GITHUB_ACTIONS_SETUP.md` for secrets configuration

---

## Additional Troubleshooting

### Instagram oEmbed API Blocked

If Instagram's oEmbed API blocks automated requests:

1. **Use local images** (recommended): Place images in `assets/images/instagram/` with format `instagram-{POST_ID}.jpg`
2. **Use Instagram Graph API**: Set up Facebook App and use access token
3. **Manual JSON editing**: Edit `data/instagram-posts.json` directly with image URLs

### Getting Direct Image URLs

1. Visit each Instagram post in browser
2. Right-click image → "Copy image address"
3. Use that URL in your config or JSON file

### API Token Expiration

Instagram Graph API tokens expire (usually 60 days):
- Refresh token periodically
- Or use local images to avoid API dependency
- See `docs/GITHUB_ACTIONS_SETUP.md` for secrets configuration

## Adding Instagram Section to Page

Add the Instagram feed section to any HTML page where you want to display the feed:

```html
<!-- Instagram Feed Section -->
<section class="section instagram-section">
    <div class="container">
        <div class="section-header" data-aos="fade-up">
            <span class="section-label">Follow Us</span>
            <h2 class="section-title">Follow Us on Instagram</h2>
            <p class="section-description">
                Stay connected and see our latest projects, updates, and behind-the-scenes content
            </p>
        </div>

        <div class="instagram-feed-grid">
            <!-- Instagram feed will be loaded dynamically -->
        </div>

        <div class="text-center" data-aos="fade-up" style="margin-top: var(--space-8);">
            <a href="https://www.instagram.com/logia_genesis_inc/" target="_blank" rel="noopener noreferrer" class="btn btn-outline btn-lg">
                <i class="fab fa-instagram"></i> Follow Us on Instagram
            </a>
        </div>
    </div>
</section>
```

The feed will automatically load when the page loads (initialized in `js/main.js`).

## Features

- **Interactive Carousel**: Drag, swipe, or use arrow buttons to navigate
- **Infinite Loop**: Seamless infinite scrolling
- **Auto-scroll**: Automatically advances every 5 seconds (pauses on hover)
- **Responsive**: Adapts to mobile, tablet, and desktop screens
- **Keyboard Navigation**: Arrow keys to navigate
- **Touch Support**: Swipe gestures on mobile devices
- **Shift + Scroll**: Hold Shift and scroll to navigate

## Customization

### Limit Number of Posts

Set `maxPosts` in the config to limit how many posts are displayed:

```javascript
instagram: {
  maxPosts: 6, // Only show first 6 posts
},
```

### Styling

The Instagram feed uses the same carousel styles as the testimonials section. You can customize the appearance by modifying the CSS classes in `css/style.css`:

- `.instagram-section` - Section container
- `.instagram-carousel` - Carousel container
- `.instagram-card` - Individual post card
- `.instagram-image-wrapper` - Image container
- `.instagram-caption` - Post caption

## Features

- **Interactive Carousel**: Drag, swipe, or use arrow buttons to navigate
- **Infinite Loop**: Seamless infinite scrolling
- **Auto-scroll**: Automatically advances every 5 seconds (pauses on hover)
- **Responsive**: Adapts to mobile, tablet, and desktop screens
- **Keyboard Navigation**: Arrow keys to navigate
- **Touch Support**: Swipe gestures on mobile devices
- **Shift + Scroll**: Hold Shift and scroll to navigate

## Customization

### Limit Number of Posts

Set `maxPosts` in the config to limit how many posts are displayed:

```javascript
instagram: {
  maxPosts: 6, // Only show first 6 posts
},
```

### Styling

The Instagram feed uses the same carousel styles as the testimonials section. Customize via CSS classes:
- `.instagram-section` - Section container
- `.instagram-carousel` - Carousel container
- `.instagram-card` - Individual post card

---

**Last Updated**: January 2025

